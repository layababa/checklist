1) 角色与权限映射
确认角色编码与权限域的对应关系是否如下：
产品：role=0 => chanpin
测试：role=1 => ceshi
前端（含前端运维）：role=2 => qianduan
后端（含运维）：role=3 => houduan
是否存在多角色账号（一个账号有多个角色），还是一个账号仅一种角色？
答：只会有多个账号是同一个角色的情况，不存在一个账号是多个角色的情况
---
2) 字段归属与可编辑范围（请确认）
产品可编辑：
测试环境确认：demand、prd、frontDemand、serverDemand
产品验收：product1、product2、product3、product4
全员确认：verify10
测试可编辑：
测试环境确认：frontTest、serverTest、coreTest、relevanceTest、bugTest
测试验收（预发布）：test1、test2、test3、test4
功能验证（生产）：verify1、verify2、verify3、verify4
全员确认：verify9
前端（含前端运维）可编辑：
预发布前端部署：front1、front2、front3、front4
生产前端运维发布：prod7、prod8、prod9、prod10
全员确认：verify5、verify8
后端（含运维）可编辑：
预发布表结构与后端部署：table1、table2、table3、server1、server2、server3、server4
生产运维发布：prod1、prod2、prod3、prod4、prod5、prod6
全员确认：verify6、verify7

文本说明字段与时间字段归属：
frontInfo（前端更新内容）、serverInfo（后端更新内容）、tableInfo（表结构更新）、putDate（上线时间）由谁可编辑？是否仅产品或管理员？是否也遵循“点完即锁”的规则？
答：以上我光看字段，无法确认，你根据我下面描述的页面内容来进行确认
<页面内容>
##更新内容
上线时间{产品填写}
前端更新内容与额外说明
后端更新内容与额外说明
表结构涉及更新与额外说明
##测试环境确认
###产品确认
1. 所有需求变更已同步
2. PRD文档已更新
3. 客户端开发内容符合产品需求
4. 服务端开发内容符合产品需求
###测试确认
1. 客户端更新模块已逐一测试
2. 服务端更新模块已逐一测试
###回归测试
1. 核心功能回归测试已完成
2. 关联功能回归测试已完成
3. 已知bug已修复或延期处理

##预发布流程确认
###运维确认 
1. 已review服务端提供的表结构变更
2. 表结构变更脚本已准备
3. 表结构变更已在预发布环境执行

###服务端部署
1.预发布环境代码已更新
2.所有服务启动正常
3. 日志无异常报错
4. 配置文件已检查

###前端部署
1.前端代码已发布到预发布环境
2.静态资源已更新
3.CDN缓存已刷新
4.页面访问正常

###测试验收
1.新功能在预发布环境测试通过
2. 核心流程验证通过
3. 数据准确性验证通过
4. 性能表现符合预期

###产品验收
1. 产品功能符合需求
2. 用户体验符合预期
3. 文案/UI 无误
4. 业务流程验证通过

##生产流程确认
###运维发布
1.预发布验收已通过
2.生产环境数据库变更已执行
3. 服务端代码已发布
4.服务启动正常
5. 健康检查通过
6. 监控指标正常
###前端运维发布
1. 前端代码已发布
2. CDN缓存已刷新
3. 页面访问正常
###测试功能验证
1. 新功能验证通过
2. 核心功能验证通过
3. 正常流程回归通过
4. 数据一致性检查通过

###全员确认
1. 客户端确认
2. 服务端确认
3. 运维确认
4. 前端运维确认
5. 测试确认
6. 产品确认
</页面内容>


3) “点完即锁”的不可更改规则
“每一个按钮，当点击之后，就不可再进行更改”的范围：
是否仅对布尔开关类字段（上述各项确认）生效？
文本类（frontInfo/serverInfo/tableInfo）与 putDate 是否也一次提交后不可再修改？
答：每个文本域旁边都要放一个确定按钮， 文本域一旦确定，也不可更改

锁定的判定与存储：
由后端强校验并持久化锁状态吗（推荐）？还是前端仅禁用控件（不推荐，无法跨会话生效）？
若后端负责锁定，是否采用“值一经置为 true 即不可改回 false”的不可逆规则？还是“一旦任意修改（包含从 false→true、或文本首次提交）即锁定该字段”？

答：由后端持久化保存，页面做状态更新

是否存在管理员/超级账号可解锁或回滚的机制？
答：不用你管， 是要管理有后台可回滚的

4) 登录与免登录查看
两个页面均可免登录查看：请确认列表查询与单条查询接口是否对未登录用户开放（不校验 token）？
答：确认免登陆开放

登录弹框触发：
默认不强弹，仅在尝试提交/修改时弹出？
需要提供顶部的“登录”入口按钮吗？  答 需要
登录成功返回的 code 与 token、role 已确定；token 失效/过期处理是否统一按 401 返回？ 答你决定
5) 列表页（checklists）需求
展示字段与排序：
列表需要哪些列？建议：id、putDate、前/后端/测试/产品模块完成度汇总（百分比或分组勾选计数）、创建人、更新时间。
默认按 updateTime 降序？是否支持自定义排序？
筛选条件：
需要支持哪些过滤项？例如：上线日期范围、各角色完成状态、关键字（更新说明文本搜索）等。
新建入口：
谁可以新建 checklist？是否仅产品或管理员？
新建后默认所有字段为未完成/未锁定？

答：以我上文的页面内容为准
6) 单个清单页（onechecklist）需求
展示结构是否沿用 index.vue 的四大区块分组（更新内容、测试环境确认、预发布流程确认、生产流程确认、全员确认）？  答：沿用， 或者有更好的方案 可以提出
提交交互：
布尔项采用开关还是按钮？（需求中称“按钮”，但 index.vue 使用 switch）   答：switch
是否需要二次确认弹框（“确认后将不可修改”）？  答 不用
每次点击即刻调用更新接口，仅携带变更字段，还是提交整条记录？  答 点击就提交接口
只允许当前角色编辑自己区域，其它区域全禁用。未登录或角色不匹配时统一禁用编辑控件并显示提示？  答：非自己可编辑的区域鼠标放上去 disable 即可
7) API 约定与返回格式不一致问题
api.md 的列表接口返回示例为 code: 0, data: []；而 index.vue 代码期望 response.rows 和 response.total。 
请确认实际返回结构：是否为分页结构 { code, rows, total }？还是 { code, data, msg }？
若为分页，请提供分页字段名与示例。
 答：以api.md为准


新增/修改接口：
是否采用全量对象提交？还是仅提交变更字段（推荐用于“点完即锁”场景）？
响应成功码是否统一（例如 200/0）？失败码及错误消息规范？
8) 锁定后的展示与提示
已锁定的项是否需要展示谁在何时完成？目前仅有全局 createBy/updateBy/updateTime，是否需要按字段粒度记录操作者与时间（供悬浮提示/审计）？  答 不用
已锁定项的视觉表现：禁用态+“已确认”标记？是否需要原因/备注输入？  答 不用
9) 安全与边界
前端将 token 存储在 localStorage 是否可接受？是否需要刷新续期？
跨域 CORS 是否已在 stage-api 端开启（允许本地开发域名）？
是否需要请求签名/防重复提交机制，避免并发重复点击？
10) 技术栈与实现细节
前端技术栈是否指定为 Vue 2 + Element UI（与 index.vue 一致），还是 Vue 3 + Element Plus？  vue3
路由期望：
checklists：/checklists
onechecklist：/checklists/:id
接口基础地址是否固定为 http://web.flimzor.xyz/stage-api，还是通过环境变量配置？
是否需要“导出 Excel”的功能（index.vue 中已有导出按钮），需要保留吗？
11) 字段校验与必填
哪些字段在发布前必须完成（硬性必填/必点）？是否有整体“完成门槛”（例如四大角色均完成后才允许上线）？
putDate 是否必填？格式是否为 yyyy-MM-dd（与 index.vue 一致），还是 api.md 的 date-time？
12) 其他
是否需要移动端适配？  答：需要
UI 文案是否采用现有中文表述，还是需要统一术语与提示语？  答：中文
是否需要操作日志/审计页面或导出审计记录？  答 不用