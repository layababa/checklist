# 快速启动指南

## 一键启动

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

你会看到类似的输出：
```
VITE v5.0.8  ready in 450 ms

➜  Local:   http://localhost:5173/
```

### 3. 打开浏览器

访问 `http://localhost:5173`，即可看到应用首页（清单列表）。

## 🔐 默认账号

系统默认支持四个角色账号，测试时可使用：

| 角色 | 账号 | 密码 | 说明 |
|------|------|------|------|
| 产品 | admin | admin123 | 可编辑产品确认相关项 |
| 测试 | admin | admin123 | 可编辑测试相关项 |
| 前端 | admin | admin123 | 可编辑前端部署相关项 |
| 后端 | admin | admin123 | 可编辑后端部署相关项 |

**注**：实际账号由后端分配，上述为示例。

## 📋 主要功能验证

### 1. 免登录查看
- 打开任意清单列表页面，无需登录即可查看内容
- 点击列表中的"查看"按钮进入详情页，仍可免登录查看

### 2. 登录与权限
- 点击页面顶部"登录"按钮
- 输入账号密码登录
- 登录后，只能编辑本角色的相关字段，其他字段显示禁用状态

### 3. 点击即提交
- 在详情页，点击某个角色可编辑的字段
- Switch：直接点击切换为 true，自动提交
- Textarea/Date：输入/选择后，点击"确定"按钮提交

### 4. 提交即锁定
- 提交成功后，该字段立即禁用
- Switch 不可再点击
- Textarea 和 Date 显示"✓ 已确认"标签

### 5. 进度统计
- 回到列表页，观察各角色的完成度百分比
- 完成度数值会实时更新

## 🔧 配置

### API 地址配置

编辑项目根目录的 `.env` 文件：

```
VITE_API_BASE_URL=http://web.flimzor.xyz/stage-api
```

如本地后端运行在其他地址，修改此配置后重启开发服务器。

### 端口配置

若 5173 端口已被占用，Vite 会自动选用下一个可用端口。或在 `vite.config.ts` 中修改：

```typescript
server: {
  port: 3000,  // 改为你需要的端口
  strictPort: false,
}
```

## 🐛 调试

### 打开浏览器开发者工具

1. 按 `F12` 或 `Cmd+Opt+I`（Mac）
2. 查看 **Console** 标签检查是否有错误
3. 查看 **Network** 标签检查 API 请求

### 常见问题排查

**问题**：页面显示"加载中..."长时间不动
- 检查后端 API 是否运行
- 在 Network 标签中查看 `/system/workflow/list` 请求是否收到响应
- 查看响应状态码和内容

**问题**：登录失败
- 确认输入的账号密码是否正确
- 检查后端 `/login` 接口是否返回 `code=200`（或 `code=0`）和 `token`

**问题**：点击开关或确定按钮后无反应
- 查看 Console 是否有错误
- 查看 Network 中 `PUT /system/workflow` 是否成功（状态码 200）

## 📦 生产环境构建

### 构建

```bash
npm run build
```

产物在 `dist` 目录下，可部署到静态服务器（Nginx、OSS 等）。

### 预览构建结果

```bash
npm run preview
```

## 🎯 下一步

- 阅读 `README.md` 了解完整功能
- 查看 `api.md` 了解后端接口规范
- 查看 `prd.md` 了解产品需求细节

---

**需要帮助？**

1. 检查 README.md 中的"常见问题"部分
2. 查看浏览器 Console 和 Network 的错误信息
3. 联系技术负责人

